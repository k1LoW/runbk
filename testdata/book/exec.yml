desc: Exec test
steps:
  -
    exec:
      command: echo hello world!!
    test: 'current.stdout contains "hello"'
  -
    exec:
      command: cat
      stdin: '{{ previous.stdout }}'
    test: 'current.stdout contains "hello"'
  -
    exec:
      command: basename `echo $0`
      shell: bash
    test: 'current.stdout == "bash\n"'
  -
    exec:
      command: sleep 1000
      background: true
    test: 'current.stdout == nil'
  -
    exec:
      command: |
        for i in {1..5}
        do
          echo "$i second elapsed"
          sleep 1
        done
      shell: bash
    test: |
      current.stdout == "1 second elapsed\n2 second elapsed\n3 second elapsed\n4 second elapsed\n5 second elapsed\n"

-- -testdata-book-exec.yml --
desc: Captured of exec.yml run
steps:
- exec:
    command: echo hello world!!
    shell: sh
  test: |
    current.stdout == "hello world!!\n"
    && current.stderr == ""
- exec:
    command: cat
    shell: sh
    stdin: |
      hello world!!
  test: |
    current.stdout == "hello world!!\n"
    && current.stderr == ""
- exec:
    command: basename `echo $0`
    shell: bash
  test: |
    current.stdout == "bash\n"
    && current.stderr == ""
- exec:
    command: sleep 1000
    shell: sh
    background: true
- exec:
    command: |-
      for i in {1..5}
      do
        echo "$i second elapsed"
        sleep 1
      done
    shell: sh
  test: |
    current.stdout == "1 second elapsed\n2 second elapsed\n3 second elapsed\n4 second elapsed\n5 second elapsed\n"
    && current.stderr == ""
